# FactoryOS AI åŠ©æ‰‹å’Œæ™ºèƒ½ä½“å®ç°æŒ‡å—

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®åŸºäº Cherry Studio çš„è®¾è®¡ç†å¿µï¼Œä¸º FactoryOS å®ç° AI åŠ©æ‰‹å’Œæ™ºèƒ½ä½“ç®¡ç†åŠŸèƒ½ã€‚é€šè¿‡é›†æˆ Dify å·¥ä½œæµå¹³å°ï¼Œä¸ºå·¥å‚ç®¡ç†ç³»ç»Ÿæä¾›å¼ºå¤§çš„ AI è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ å®Œæ•´å¤ç° Cherry Studio ä½“éªŒ

- **å¡ç‰‡å¼ç•Œé¢**: ç¾è§‚çš„å¡ç‰‡å¸ƒå±€å±•ç¤ºåŠ©æ‰‹å’Œæ™ºèƒ½ä½“
- **æ‹–æ‹½æ’åº**: ç›´è§‚çš„æ‹–æ‹½æ“ä½œé‡æ–°æ’åˆ—é¡ºåº
- **åˆ†ç»„ç®¡ç†**: æ”¯æŒæ ‡ç­¾åˆ†ç»„å’Œè§†å›¾åˆ‡æ¢
- **æœç´¢ç­›é€‰**: å¼ºå¤§çš„æœç´¢å’Œå¤šç»´åº¦ç­›é€‰åŠŸèƒ½
- **ç»Ÿä¸€å¯¹è¯ç•Œé¢**: æ”¯æŒåŠ©æ‰‹å’Œæ™ºèƒ½ä½“çš„æ— ç¼å¯¹è¯åˆ‡æ¢

### ğŸ¤– Dify å·¥ä½œæµé›†æˆ

- **å¯è§†åŒ–å·¥ä½œæµ**: åŸºäº Dify çš„æ‹–æ‹½å¼å·¥ä½œæµè®¾è®¡
- **API é›†æˆ**: ç¨³å®šçš„ Dify API é›†æˆå’Œé”™è¯¯å¤„ç†
- **å¥åº·ç›‘æ§**: å®æ—¶ç›‘æ§æ™ºèƒ½ä½“è¿æ¥çŠ¶æ€
- **å®‰å…¨æœºåˆ¶**: API å¯†é’¥åŠ å¯†å­˜å‚¨å’Œæƒé™æ§åˆ¶

### ğŸ­ å·¥å‚åœºæ™¯ä¼˜åŒ–

- **ç”Ÿäº§è°ƒåº¦**: æ™ºèƒ½åŒ–çš„ç”Ÿäº§è®¡åˆ’è°ƒåº¦åŠ©æ‰‹
- **è´¨é‡æ£€æµ‹**: è‡ªåŠ¨åŒ–çš„è´¨é‡åˆ†æå’Œå»ºè®®
- **è®¾å¤‡ç»´æŠ¤**: é¢„æµ‹æ€§ç»´æŠ¤å’Œæ•…éšœè¯Šæ–­
- **ä¾›åº”é“¾ç®¡ç†**: æ™ºèƒ½åŒ–çš„åº“å­˜å’Œç‰©æµä¼˜åŒ–

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ

- **Vue 3.5+**: ç°ä»£åŒ–çš„å“åº”å¼æ¡†æ¶
- **TypeScript 5.8+**: ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ
- **Ant Design Vue 4.2+**: ä¼ä¸šçº§ UI ç»„ä»¶åº“
- **Pinia 3.0+**: ç°ä»£çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ
- **Vite 7.1+**: é«˜æ€§èƒ½æ„å»ºå·¥å…·

### æ ¸å¿ƒç»„ä»¶æ¶æ„

```mermaid
graph TD
    A[AssistantsView ä¸»è§†å›¾] --> B[UnifiedList åˆ—è¡¨è§†å›¾]
    A --> C[UnifiedTagGroups åˆ†ç»„è§†å›¾]
    A --> D[UnifiedAddButton æ·»åŠ æŒ‰é’®]

    B --> E[AssistantCard åŠ©æ‰‹å¡ç‰‡]
    C --> E

    E --> F[AssistantMenu å³é”®èœå•]
    E --> G[ChatView å¯¹è¯ç•Œé¢]

    D --> H[CreateAssistantModal åˆ›å»ºåŠ©æ‰‹]
    D --> I[CreateAgentModal åˆ›å»ºæ™ºèƒ½ä½“]

    J[AssistantsStore çŠ¶æ€ç®¡ç†] --> A
    K[AgentService æ™ºèƒ½ä½“æœåŠ¡] --> J
    L[AssistantService åŠ©æ‰‹æœåŠ¡] --> J

    M[DifyApiClient Difyå®¢æˆ·ç«¯] --> K
    N[HealthChecker å¥åº·æ£€æŸ¥] --> K

    G --> O[ChatNavbar å¯¹è¯å¯¼èˆª]
    G --> P[Messages æ™®é€šæ¶ˆæ¯]
    G --> Q[AgentSessionMessages æ™ºèƒ½ä½“æ¶ˆæ¯]
    G --> R[Inputbar æ™®é€šè¾“å…¥æ¡†]
    G --> S[AgentSessionInputbar æ™ºèƒ½ä½“è¾“å…¥æ¡†]
```

## æ–‡æ¡£ç»“æ„

### ğŸ“‹ éœ€æ±‚æ–‡æ¡£ (`ai-assistants-agents-requirements.md`)

è¯¦ç»†çš„åŠŸèƒ½éœ€æ±‚å’ŒæŠ€æœ¯è¦æ±‚ï¼š

- ç”¨æˆ·æ•…äº‹å’ŒéªŒæ”¶æ ‡å‡†
- éåŠŸèƒ½æ€§éœ€æ±‚
- æ€§èƒ½ã€å®‰å…¨ã€å¯é æ€§è¦æ±‚

### ğŸ¨ è®¾è®¡æ–‡æ¡£ (`ai-assistants-agents-design.md`)

ç³»ç»Ÿçš„æŠ€æœ¯è®¾è®¡å’Œæ¶æ„ï¼š

- ç»„ä»¶æ¶æ„å’Œæ¨¡å—è®¾è®¡
- æ•°æ®æ¨¡å‹å’Œæ¥å£å®šä¹‰
- é”™è¯¯å¤„ç†å’Œæµ‹è¯•ç­–ç•¥

### ğŸ“ ä»»åŠ¡æ–‡æ¡£ (`ai-assistants-agents-tasks.md)

åˆ†é˜¶æ®µçš„å®ç°ä»»åŠ¡æ¸…å•ï¼š

- 7ä¸ªä¸»è¦é˜¶æ®µï¼Œ21ä¸ªå…·ä½“ä»»åŠ¡
- è¯¦ç»†çš„å®ç°æŒ‡å¯¼å’Œä»£ç æç¤º
- æµ‹è¯•å’Œéƒ¨ç½²è®¡åˆ’

### ğŸ”Œ Dify é›†æˆæ–¹æ¡ˆ (`dify-workflow-integration.md`)

Dify å·¥ä½œæµå¹³å°çš„æŠ€æœ¯é›†æˆï¼š

- API å®¢æˆ·ç«¯å®ç°
- å¥åº·æ£€æŸ¥å’Œç›‘æ§
- å®‰å…¨æœºåˆ¶å’Œæ€§èƒ½ä¼˜åŒ–
- å·¥å‚åœºæ™¯åº”ç”¨ç¤ºä¾‹

### ğŸ’¬ å¯¹è¯ç•Œé¢è®¾è®¡ (`chat-interface-design.md`)

åŸºäº Cherry Studio çš„å¯¹è¯ç•Œé¢æ¶æ„ï¼š

- ç»Ÿä¸€çš„å¯¹è¯ç•Œé¢è®¾è®¡
- åŠ©æ‰‹å’Œæ™ºèƒ½ä½“çš„æ— ç¼åˆ‡æ¢
- æµå¼æ¶ˆæ¯å¤„ç†å’Œæ˜¾ç¤º
- æ¶ˆæ¯ç»„ç»‡å’Œäº¤äº’åŠŸèƒ½

### ğŸ“ å¯¹è¯ç•Œé¢ä»»åŠ¡ (`chat-interface-tasks.md`)

å¯¹è¯ç•Œé¢çš„è¯¦ç»†å®ç°ä»»åŠ¡ï¼š

- 7ä¸ªé˜¶æ®µï¼Œ21ä¸ªå…·ä½“ä»»åŠ¡
- æ¶ˆæ¯æ˜¾ç¤ºå’Œè¾“å…¥ç»„ä»¶
- æ€§èƒ½ä¼˜åŒ–å’Œç”¨æˆ·ä½“éªŒ

## å®ç°è·¯çº¿å›¾

### ğŸš€ ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¶æ„ (ä»»åŠ¡ 1-3)

**ç›®æ ‡**: å»ºç«‹é¡¹ç›®åŸºç¡€æ¶æ„å’Œç±»å‹å®šä¹‰

**å…³é”®ä»»åŠ¡**:

- [x] åˆ›å»º TypeScript ç±»å‹å®šä¹‰
- [x] å®ç° Pinia çŠ¶æ€ç®¡ç†
- [x] å»ºç«‹æœåŠ¡å±‚åŸºç¡€æ¶æ„

**é¢„æœŸæˆæœ**:

- å®Œæ•´çš„ç±»å‹å®‰å…¨æ•°æ®ç»“æ„
- å“åº”å¼çŠ¶æ€ç®¡ç†ç³»ç»Ÿ
- å¯æ‰©å±•çš„æœåŠ¡å±‚æ¶æ„

### ğŸ¨ ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒç»„ä»¶ (ä»»åŠ¡ 4-6)

**ç›®æ ‡**: å®ç°ä¸»è¦ UI ç»„ä»¶å’Œäº¤äº’åŠŸèƒ½

**å…³é”®ä»»åŠ¡**:

- [x] åˆ›å»ºä¸»è§†å›¾ç»„ä»¶
- [x] å®ç°åŠ©æ‰‹å¡ç‰‡ç»„ä»¶
- [x] å¼€å‘æ‹–æ‹½åŠŸèƒ½

**é¢„æœŸæˆæœ**:

- å®Œæ•´çš„ä¸»ç•Œé¢å¸ƒå±€
- æµç•…çš„æ‹–æ‹½äº¤äº’ä½“éªŒ
- å“åº”å¼ç»„ä»¶æ¶æ„

### ğŸ“‹ ç¬¬ä¸‰é˜¶æ®µï¼šè§†å›¾å’Œåˆ—è¡¨ (ä»»åŠ¡ 7-9)

**ç›®æ ‡**: å®ç°ä¸åŒè§†å›¾æ¨¡å¼å’Œæœç´¢åŠŸèƒ½

**å…³é”®ä»»åŠ¡**:

- [x] åˆ›å»ºåˆ—è¡¨è§†å›¾ (æ”¯æŒè™šæ‹Ÿæ»šåŠ¨)
- [x] å®ç°åˆ†ç»„è§†å›¾
- [x] å¼€å‘æœç´¢ç­›é€‰åŠŸèƒ½

**é¢„æœŸæˆæœ**:

- é«˜æ€§èƒ½çš„åˆ—è¡¨å±•ç¤º
- çµæ´»çš„åˆ†ç»„ç®¡ç†
- å¼ºå¤§çš„æœç´¢ç­›é€‰èƒ½åŠ›

### âš™ï¸ ç¬¬å››é˜¶æ®µï¼šåˆ›å»ºå’Œé…ç½® (ä»»åŠ¡ 10-12)

**ç›®æ ‡**: å®ç°åŠ©æ‰‹å’Œæ™ºèƒ½ä½“çš„åˆ›å»ºé…ç½®åŠŸèƒ½

**å…³é”®ä»»åŠ¡**:

- [x] åŠ©æ‰‹åˆ›å»ºå¼¹çª—
- [x] æ™ºèƒ½ä½“åˆ›å»ºå¼¹çª—
- [x] ç»Ÿä¸€æ·»åŠ æŒ‰é’®

**é¢„æœŸæˆæœ**:

- å®Œæ•´çš„åˆ›å»ºé…ç½®æµç¨‹
- Dify API è¿æ¥æµ‹è¯•
- ç”¨æˆ·å‹å¥½çš„é…ç½®ç•Œé¢

### ğŸ¤– ç¬¬äº”é˜¶æ®µï¼šDify é›†æˆ (ä»»åŠ¡ 13-15)

**ç›®æ ‡**: é›†æˆ Dify å·¥ä½œæµå’Œæ™ºèƒ½ä½“å¯¹è¯åŠŸèƒ½

**å…³é”®ä»»åŠ¡**:

- [x] Dify API å®¢æˆ·ç«¯
- [x] æ™ºèƒ½ä½“å¥åº·æ£€æŸ¥
- [x] æ™ºèƒ½ä½“å¯¹è¯åŠŸèƒ½

**é¢„æœŸæˆæœ**:

- ç¨³å®šçš„ Dify API é›†æˆ
- å®æ—¶å¥åº·çŠ¶æ€ç›‘æ§
- æµç•…çš„æ™ºèƒ½ä½“å¯¹è¯ä½“éªŒ

### ğŸš€ ç¬¬å…­é˜¶æ®µï¼šä¼˜åŒ–å’Œæµ‹è¯• (ä»»åŠ¡ 16-18)

**ç›®æ ‡**: æ€§èƒ½ä¼˜åŒ–å’Œå…¨é¢æµ‹è¯•

**å…³é”®ä»»åŠ¡**:

- [x] æœ¬åœ°å­˜å‚¨å’Œç¼“å­˜
- [x] å•å…ƒæµ‹è¯•
- [x] é›†æˆæµ‹è¯•å’Œ E2E æµ‹è¯•

**é¢„æœŸæˆæœ**:

- ä¼˜ç§€çš„æ€§èƒ½è¡¨ç°
- é«˜æµ‹è¯•è¦†ç›–ç‡
- ç¨³å®šçš„åŠŸèƒ½å¯é æ€§

### ğŸŒŸ ç¬¬ä¸ƒé˜¶æ®µï¼šéƒ¨ç½²å’Œæ–‡æ¡£ (ä»»åŠ¡ 19-21)

**ç›®æ ‡**: ç”Ÿäº§éƒ¨ç½²å’Œç”¨æˆ·æ–‡æ¡£

**å…³é”®ä»»åŠ¡**:

- [x] è·¯ç”±å’Œæƒé™é…ç½®
- [x] ç”¨æˆ·æ–‡æ¡£
- [x] æ€§èƒ½ä¼˜åŒ–å’Œæœ€ç»ˆè°ƒè¯•

**é¢„æœŸæˆæœ**:

- æ— ç¼é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ
- å®Œæ•´çš„ç”¨æˆ·æŒ‡å—
- ç”Ÿäº§å°±ç»ªçš„åŠŸèƒ½è´¨é‡

### ğŸ’¬ ç¬¬å…«é˜¶æ®µï¼šå¯¹è¯ç•Œé¢å®ç° (chat-interface-tasks.md 1-21)

**ç›®æ ‡**: å®ç°ç»Ÿä¸€çš„ AI å¯¹è¯ç•Œé¢

**å…³é”®ä»»åŠ¡**:

- [x] åŸºç¡€æ¶æ„æ­å»º (ç±»å‹å®šä¹‰ã€çŠ¶æ€ç®¡ç†ã€æœåŠ¡å±‚)
- [x] ä¸»å¯¹è¯ç•Œé¢ç»„ä»¶ (ChatViewã€ChatNavbarã€è·¯ç”±é…ç½®)
- [x] æ¶ˆæ¯æ˜¾ç¤ºç»„ä»¶ (Messagesã€AgentSessionMessagesã€MessageGroup)
- [x] è¾“å…¥æ¡†ç»„ä»¶ (Inputbarã€AgentSessionInputbarã€InputbarTools)
- [x] æ¶ˆæ¯å¤„ç†å’Œæ¸²æŸ“ (Markdownã€æµå¼å¤„ç†ã€æ¶ˆæ¯æ“ä½œ)
- [x] æ€§èƒ½ä¼˜åŒ–å’Œç”¨æˆ·ä½“éªŒ (è™šæ‹Ÿæ»šåŠ¨ã€ç¼“å­˜ã€å¿«æ·é”®)
- [x] é›†æˆå’Œæµ‹è¯• (ç³»ç»Ÿé›†æˆã€æµ‹è¯•è¦†ç›–ã€æ€§èƒ½ç›‘æ§)

**é¢„æœŸæˆæœ**:

- å®Œæ•´çš„å¯¹è¯ç•Œé¢åŠŸèƒ½
- åŠ©æ‰‹å’Œæ™ºèƒ½ä½“çš„æ— ç¼åˆ‡æ¢
- æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒ

## å…³é”®æŠ€æœ¯å®ç°

### 1. æ‹–æ‹½æ’åºå®ç°

`âœ¶ Insight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`

- ä½¿ç”¨ HTML5 Drag and Drop API å®ç°åŸç”Ÿæ‹–æ‹½ä½“éªŒ
- é€šè¿‡ Vue 3 çš„å“åº”å¼ç³»ç»Ÿå®æ—¶æ›´æ–°æ•°æ®çŠ¶æ€
- åˆ©ç”¨ CSS Transform æä¾›æµç•…çš„æ‹–æ‹½åŠ¨ç”»æ•ˆæœ `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`

```typescript
// apps/web-antd/src/composables/useDragAndDrop.ts
export function useDragAndDrop(items: Ref<Assistant[]>) {
  const draggedItem = ref<Assistant | null>(null);
  const dragOverItem = ref<Assistant | null>(null);

  const handleDragStart = (item: Assistant) => {
    draggedItem.value = item;
  };

  const handleDragOver = (item: Assistant) => {
    dragOverItem.value = item;
  };

  const handleDrop = () => {
    if (draggedItem.value && dragOverItem.value) {
      const draggedIndex = items.value.findIndex(
        (i) => i.id === draggedItem.value!.id,
      );
      const dropIndex = items.value.findIndex(
        (i) => i.id === dragOverItem.value!.id,
      );

      if (draggedIndex !== dropIndex) {
        const newItems = [...items.value];
        newItems.splice(draggedIndex, 1);
        newItems.splice(dropIndex, 0, draggedItem.value);
        items.value = newItems;
      }
    }

    draggedItem.value = null;
    dragOverItem.value = null;
  };

  return {
    draggedItem,
    dragOverItem,
    handleDragStart,
    handleDragOver,
    handleDrop,
  };
}
```

### 2. Dify æµå¼å“åº”å¤„ç†

`âœ¶ Insight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`

- ä½¿ç”¨ Server-Sent Events (SSE) å¤„ç†æµå¼å“åº”
- é€šè¿‡ async generator å®ç°ä¼˜é›…çš„æµæ•°æ®è§£æ
- åˆ©ç”¨ Vue çš„å“åº”å¼ç³»ç»Ÿå®æ—¶æ›´æ–°èŠå¤©ç•Œé¢ `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`

```typescript
// apps/web-antd/src/services/dify-client.ts
private async* parseSSEStream(response: Response) {
  const reader = response.body?.getReader()
  const decoder = new TextDecoder()

  while (true) {
    const { done, value } = await reader.read()
    if (done) break

    const chunk = decoder.decode(value)
    const lines = chunk.split('\n')

    for (const line of lines) {
      if (line.startsWith('data: ')) {
        const data = line.slice(6)
        if (data === '[DONE]') return

        try {
          const parsed = JSON.parse(data)
          yield parsed
        } catch (e) {
          console.warn('è§£æ SSE æ•°æ®å¤±è´¥:', data)
        }
      }
    }
  }
}
```

### 3. è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–

`âœ¶ Insight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`

- é€šè¿‡åŠ¨æ€æ¸²æŸ“å¯è§åŒºåŸŸå†…çš„å…ƒç´ ä¼˜åŒ–å¤§é‡æ•°æ®æ€§èƒ½
- ä½¿ç”¨ Intersection Observer API å®ç°é«˜æ•ˆçš„æ»šåŠ¨æ£€æµ‹
- åˆ©ç”¨ Vue çš„è®¡ç®—å±æ€§ç¼“å­˜ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`

```typescript
// apps/web-antd/src/composables/useVirtualScroll.ts
export function useVirtualScroll(
  items: Ref<any[]>,
  containerHeight: number,
  itemHeight: number,
) {
  const scrollTop = ref(0);
  const containerRef = ref<HTMLElement>();

  const visibleRange = computed(() => {
    const start = Math.floor(scrollTop.value / itemHeight);
    const visibleCount = Math.ceil(containerHeight / itemHeight);
    const end = Math.min(start + visibleCount + 1, items.value.length);

    return { start: Math.max(0, start - 5), end }; // é¢„æ¸²æŸ“å‰å5é¡¹
  });

  const visibleItems = computed(() => {
    return items.value
      .slice(visibleRange.value.start, visibleRange.value.end)
      .map((item, index) => ({
        ...item,
        index: visibleRange.value.start + index,
      }));
  });

  const totalHeight = computed(() => items.value.length * itemHeight);

  const handleScroll = () => {
    if (containerRef.value) {
      scrollTop.value = containerRef.value.scrollTop;
    }
  };

  return {
    containerRef,
    visibleItems,
    totalHeight,
    handleScroll,
    offsetY: computed(() => visibleRange.value.start * itemHeight),
  };
}
```

## å·¥å‚åœºæ™¯åº”ç”¨

### ğŸ­ ç”Ÿäº§è°ƒåº¦æ™ºèƒ½ä½“

```typescript
const productionScheduler = {
  name: 'ç”Ÿäº§è°ƒåº¦åŠ©æ‰‹',
  workflow: 'production-scheduling',
  inputs: {
    orders: getCurrentOrders(),
    capacity: getMachineCapacity(),
    materials: getMaterialInventory(),
    workforce: getWorkforceSchedule(),
  },
  outputs: {
    schedule: 'optimized_production_plan',
    alerts: 'bottleneck_warnings',
    suggestions: 'efficiency_improvements',
  },
};
```

### ğŸ” è´¨é‡æ£€æµ‹æ™ºèƒ½ä½“

```typescript
const qualityInspector = {
  name: 'è´¨é‡æ£€æµ‹åŠ©æ‰‹',
  workflow: 'quality-inspection',
  inputs: {
    defects: getQualityData(),
    standards: getQualityStandards(),
    trends: getHistoricalData(),
  },
  outputs: {
    analysis: 'defect_root_cause',
    recommendations: 'quality_improvements',
    predictions: 'quality_trends',
  },
};
```

### âš ï¸ è®¾å¤‡ç»´æŠ¤æ™ºèƒ½ä½“

```typescript
const maintenanceAdvisor = {
  name: 'è®¾å¤‡ç»´æŠ¤åŠ©æ‰‹',
  workflow: 'predictive-maintenance',
  inputs: {
    sensor_data: getIoTData(),
    maintenance_history: getMaintenanceRecords(),
    operating_conditions: getOperatingData(),
  },
  outputs: {
    predictions: 'failure_probability',
    schedule: 'maintenance_plan',
    alerts: 'urgent_maintenance',
  },
};
```

## æ€§èƒ½æŒ‡æ ‡

### ğŸ“Š é¢„æœŸæ€§èƒ½ç›®æ ‡

| æŒ‡æ ‡         | ç›®æ ‡å€¼  | æµ‹é‡æ–¹æ³•               |
| ------------ | ------- | ---------------------- |
| é¦–æ¬¡åŠ è½½æ—¶é—´ | < 2s    | Lighthouse Performance |
| æœç´¢å“åº”æ—¶é—´ | < 200ms | API å“åº”æ—¶é—´ç›‘æ§       |
| æ‹–æ‹½å¸§ç‡     | > 60fps | Chrome DevTools        |
| å†…å­˜ä½¿ç”¨     | < 100MB | Chrome Memory Tab      |
| API é”™è¯¯ç‡   | < 1%    | é”™è¯¯ç›‘æ§ç»Ÿè®¡           |

### ğŸ¯ ä¼˜åŒ–ç­–ç•¥

1. **ç»„ä»¶æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½éå…³é”®ç»„ä»¶
2. **è™šæ‹Ÿæ»šåŠ¨**: å¤„ç†å¤§é‡æ•°æ®çš„åˆ—è¡¨æ¸²æŸ“
3. **å›¾ç‰‡ä¼˜åŒ–**: WebP æ ¼å¼å’Œæ‡’åŠ è½½
4. **API ç¼“å­˜**: æ™ºèƒ½ç¼“å­˜ç­–ç•¥å‡å°‘é‡å¤è¯·æ±‚
5. **ä»£ç åˆ†å‰²**: è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²

## å®‰å…¨è€ƒè™‘

### ğŸ” API å¯†é’¥å®‰å…¨

- **åŠ å¯†å­˜å‚¨**: ä½¿ç”¨ Web Crypto API åŠ å¯†å­˜å‚¨
- **ä¼ è¾“å®‰å…¨**: HTTPS å’Œå®‰å…¨å¤´è®¾ç½®
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

### ğŸ›¡ï¸ æ•°æ®å®‰å…¨

- **è¾“å…¥éªŒè¯**: ä¸¥æ ¼çš„è¾“å…¥éªŒè¯å’Œæ¸…ç†
- **XSS é˜²æŠ¤**: CSP ç­–ç•¥å’Œå†…å®¹è½¬ä¹‰
- **CSRF é˜²æŠ¤**: Token éªŒè¯å’ŒåŒæºç­–ç•¥

### ğŸ“ å®¡è®¡æ—¥å¿—

- **æ“ä½œè®°å½•**: è®°å½•æ‰€æœ‰å…³é”®æ“ä½œ
- **é”™è¯¯ç›‘æ§**: å…¨é¢çš„é”™è¯¯æ•è·å’ŒæŠ¥å‘Š
- **æ€§èƒ½ç›‘æ§**: å®æ—¶æ€§èƒ½æŒ‡æ ‡æ”¶é›†

## æµ‹è¯•ç­–ç•¥

### ğŸ§ª å•å…ƒæµ‹è¯•

- **ç»„ä»¶æµ‹è¯•**: ä½¿ç”¨ Vue Test Utils
- **å·¥å…·å‡½æ•°æµ‹è¯•**: çº¯å‡½æ•°é€»è¾‘æµ‹è¯•
- **Store æµ‹è¯•**: çŠ¶æ€ç®¡ç†é€»è¾‘æµ‹è¯•
- **è¦†ç›–ç‡ç›®æ ‡**: > 80%

### ğŸ”— é›†æˆæµ‹è¯•

- **API é›†æˆ**: Mock æœåŠ¡å™¨æµ‹è¯•
- **ç»„ä»¶é›†æˆ**: ç»„ä»¶é—´äº¤äº’æµ‹è¯•
- **çŠ¶æ€åŒæ­¥**: æ•°æ®æµæµ‹è¯•

### ğŸŒ E2E æµ‹è¯•

- **ç”¨æˆ·æµç¨‹**: å…³é”®ç”¨æˆ·æ“ä½œè·¯å¾„
- **è·¨æµè§ˆå™¨**: ä¸»æµæµè§ˆå™¨å…¼å®¹æ€§
- **æ€§èƒ½æµ‹è¯•**: åŠ è½½å’Œäº¤äº’æ€§èƒ½

## éƒ¨ç½²å’Œç»´æŠ¤

### ğŸš€ éƒ¨ç½²ç­–ç•¥

- **æ¸è¿›å¼éƒ¨ç½²**: åŠŸèƒ½å¼€å…³æ§åˆ¶
- **A/B æµ‹è¯•**: æ–°åŠŸèƒ½ç°åº¦å‘å¸ƒ
- **å›æ»šæœºåˆ¶**: å¿«é€Ÿå›æ»šèƒ½åŠ›

### ğŸ“ˆ ç›‘æ§å’Œç»´æŠ¤

- **æ€§èƒ½ç›‘æ§**: å®æ—¶æ€§èƒ½æŒ‡æ ‡
- **é”™è¯¯ç›‘æ§**: å¼‚å¸¸æ•è·å’ŒæŠ¥è­¦
- **ç”¨æˆ·åé¦ˆ**: æ”¶é›†ç”¨æˆ·ä½¿ç”¨åé¦ˆ

## æ€»ç»“

æœ¬é¡¹ç›®é€šè¿‡æ·±åº¦åˆ†æ Cherry Studio çš„è®¾è®¡ç†å¿µï¼Œç»“åˆ FactoryOS çš„å·¥å‚ç®¡ç†éœ€æ±‚ï¼Œå®ç°äº†å®Œæ•´çš„ AI åŠ©æ‰‹å’Œæ™ºèƒ½ä½“ç®¡ç†ç³»ç»Ÿã€‚ä¸»è¦æˆæœåŒ…æ‹¬ï¼š

1. **å®Œæ•´çš„ç”¨æˆ·ç•Œé¢**: å®Œå…¨å¤ç° Cherry Studio çš„äº¤äº’ä½“éªŒ
2. **Dify å·¥ä½œæµé›†æˆ**: ç¨³å®šå¯é çš„æ™ºèƒ½ä½“å·¥ä½œæµé›†æˆ
3. **å·¥å‚åœºæ™¯ä¼˜åŒ–**: é’ˆå¯¹å·¥å‚ç®¡ç†åœºæ™¯çš„ç‰¹å®šä¼˜åŒ–
4. **ä¼ä¸šçº§å¯é æ€§**: å®Œå–„çš„é”™è¯¯å¤„ç†ã€ç›‘æ§å’Œå®‰å…¨æœºåˆ¶

è¯¥ç³»ç»Ÿä¸ºå·¥å‚æ™ºèƒ½åŒ–ç®¡ç†æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„æŠ€æœ¯åŸºç¡€ï¼Œæ”¯æŒå¿«é€Ÿæ„å»ºå’Œéƒ¨ç½²å„ç§ AI åŠ©æ‰‹å’Œæ™ºèƒ½ä½“åº”ç”¨ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0 **åˆ›å»ºæ—¥æœŸ**: 2025-10-21 **æ›´æ–°æ—¥æœŸ**: 2025-10-21 **ç»´æŠ¤è€…**: FactoryOS å¼€å‘å›¢é˜Ÿ
